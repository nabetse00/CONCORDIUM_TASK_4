import{j as e,e as m,f as b}from"./index-81a7a782.js";import{r as d,d as j}from"./wallet-0d6fe0b8.js";import{g as u,o as a,p as h,L as p}from"./ui-828740c4.js";import{N as y}from"./NoAccount-efe08d43.js";import{b as I}from"./main-dbfd49a8.js";import"./icons-bd61ed92.js";function C(n){const[s,c]=d.useState(!0);let t=Number(n.balance)/1e6,r=t.toFixed(6)+" CCD",i="";const o=n.price||n.currencyMultiplier||.01;switch(n.currency){case"EUR":i=(t*o).toFixed(2)+" â‚¬";break;case"USD":i="$"+(t*o).toFixed(2);break;default:i="$"+(t*o).toFixed(2);break}return e.jsx("span",{style:{fontSize:n.size?n.size:24,cursor:"pointer"},onClick:()=>{c(!s)},children:s?e.jsx("div",{children:i}):e.jsx("div",{children:r})})}function N(){const{connection:n,account:s,network:c}=m(),[t,r]=d.useState(),[i,o]=d.useState(""),x=b(),f=(c==null?void 0:c.ccdScanBaseUrl)+"/?dcount=1&dentity=account&daddress="+(t==null?void 0:t.accountAddress);return d.useEffect(()=>{(!n||!s)&&x(I),n&&r(void 0),n&&s&&(r(void 0),j.withJsonRpcClient(n,l=>l.getAccountInfo(s)).then(l=>{r(l),o("")}).catch(l=>{r(void 0),o(l)}))},[n,s]),e.jsx(d.Suspense,{fallback:e.jsx(u,{}),children:t?e.jsxs(a,{title:"Account Info",column:1,bordered:!0,children:[e.jsx(a.Item,{label:"Status",span:1,children:e.jsx(h,{status:c?"success":"error",text:c?e.jsx(e.Fragment,{children:"connected to "+(c==null?void 0:c.name)}):"no network"})}),e.jsx(a.Item,{label:"Address",children:e.jsx(p,{copyable:{text:t.accountAddress},href:f,target:"_blank",rel:"noopener noreferrer",children:t.accountAddress})}),e.jsx(a.Item,{label:"Balance (price form kucoin)",children:e.jsx(C,{balance:t.accountAmount,currency:"USD",size:14})}),e.jsx(a.Item,{label:"Nonce",children:Number(t.accountNonce)}),e.jsx(a.Item,{label:"Index",children:Number(t.accountIndex)}),e.jsx(a.Item,{label:"Public key for credentials",children:t.accountCredentials[0].value.contents.credentialPublicKeys.keys[0].verifyKey}),e.jsx(a.Item,{label:"Encryption key",children:t.accountEncryptionKey})]}):s?e.jsx(u,{}):e.jsx(y,{network:c==null?void 0:c.name})})}export{N as AccountInfoPage};

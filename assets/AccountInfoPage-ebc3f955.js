import{j as e,u as m,a as b}from"./index-cf8ffa78.js";import{r as d,d as j}from"./wallet-05f4693c.js";import{g as u,o as a,p as h,L as y}from"./ui-39a4cd14.js";import{N as p}from"./NoAccount-521a3b62.js";import"./icons-dea615b7.js";function I(n){const[s,c]=d.useState(!0);let t=Number(n.balance)/1e6,r=t.toFixed(6)+" CCD",i="";const o=n.price||n.currencyMultiplier||.01;switch(n.currency){case"EUR":i=(t*o).toFixed(2)+" â‚¬";break;case"USD":i="$"+(t*o).toFixed(2);break;default:i="$"+(t*o).toFixed(2);break}return e.jsx("span",{style:{fontSize:n.size?n.size:24,cursor:"pointer"},onClick:()=>{c(!s)},children:s?e.jsx("div",{children:i}):e.jsx("div",{children:r})})}function N(){const{connection:n,account:s,network:c}=m(),[t,r]=d.useState(),[i,o]=d.useState(""),x=b(),f=(c==null?void 0:c.ccdScanBaseUrl)+"/?dcount=1&dentity=account&daddress="+(t==null?void 0:t.accountAddress);return d.useEffect(()=>{(!n||!s)&&x("/CONCORDIUM_TASK_4/"),n&&r(void 0),n&&s&&(r(void 0),j.withJsonRpcClient(n,l=>l.getAccountInfo(s)).then(l=>{r(l),o("")}).catch(l=>{r(void 0),o(l)}))},[n,s]),e.jsx(d.Suspense,{fallback:e.jsx(u,{}),children:t?e.jsxs(a,{title:"Account Info",column:1,bordered:!0,children:[e.jsx(a.Item,{label:"Status",span:1,children:e.jsx(h,{status:c?"success":"error",text:c?e.jsx(e.Fragment,{children:"connected to "+(c==null?void 0:c.name)}):"no network"})}),e.jsx(a.Item,{label:"Address",children:e.jsx(y,{copyable:{text:t.accountAddress},href:f,target:"_blank",rel:"noopener noreferrer",children:t.accountAddress})}),e.jsx(a.Item,{label:"Balance (price form kucoin)",children:e.jsx(I,{balance:t.accountAmount,currency:"USD",size:14})}),e.jsx(a.Item,{label:"Nonce",children:Number(t.accountNonce)}),e.jsx(a.Item,{label:"Index",children:Number(t.accountIndex)}),e.jsx(a.Item,{label:"Public key for credentials",children:t.accountCredentials[0].value.contents.credentialPublicKeys.keys[0].verifyKey}),e.jsx(a.Item,{label:"Encryption key",children:t.accountEncryptionKey})]}):s?e.jsx(u,{}):e.jsx(p,{network:c==null?void 0:c.name})})}export{N as AccountInfoPage};

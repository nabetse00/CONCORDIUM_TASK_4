import{u as x,a as f,j as e}from"./index-5c482bb5.js";import{r as i,d as p}from"./wallet-0d6fe0b8.js";import{g as d,o as c,p as j,L as b}from"./ui-bc4a4294.js";import{B as h}from"./Balance-a2a69e02.js";import{N as I}from"./NoAccount-4f90af33.js";import"./icons-ffceca67.js";function k(){const{connection:s,account:o,network:n}=x(),[t,a]=i.useState(),[y,l]=i.useState(""),u=f(),m=(n==null?void 0:n.ccdScanBaseUrl)+"/?dcount=1&dentity=account&daddress="+(t==null?void 0:t.accountAddress);return i.useEffect(()=>{(!s||!o)&&u("/CONCORDIUM_TASK_4/"),s&&a(void 0),s&&o&&(a(void 0),p.withJsonRpcClient(s,r=>r.getAccountInfo(o)).then(r=>{a(r),l("")}).catch(r=>{a(void 0),l(r)}))},[s,o]),e.jsx(i.Suspense,{fallback:e.jsx(d,{}),children:t?e.jsxs(c,{title:"Account Info",column:1,bordered:!0,children:[e.jsx(c.Item,{label:"Status",span:1,children:e.jsx(j,{status:n?"success":"error",text:n?e.jsx(e.Fragment,{children:"connected to "+(n==null?void 0:n.name)}):"no network"})}),e.jsx(c.Item,{label:"Address",children:e.jsx(b,{copyable:{text:t.accountAddress},href:m,target:"_blank",rel:"noopener noreferrer",children:t.accountAddress})}),e.jsx(c.Item,{label:"Balance (price form kucoin)",children:e.jsx(h,{balance:t.accountAmount,currency:"USD",size:14})}),e.jsx(c.Item,{label:"Nonce",children:Number(t.accountNonce)}),e.jsx(c.Item,{label:"Index",children:Number(t.accountIndex)}),e.jsx(c.Item,{label:"Public key for credentials",children:t.accountCredentials[0].value.contents.credentialPublicKeys.keys[0].verifyKey}),e.jsx(c.Item,{label:"Encryption key",children:t.accountEncryptionKey})]}):o?e.jsx(d,{}):e.jsx(I,{network:n==null?void 0:n.name})})}export{k as AccountInfoPage};
